# Программа для 19-21

- ***Это База***
    
    ```python
    ''' 1)  (А.  Носкин) За один ход игрок может добавить в одну из куч (по
    своему выбору) один камень или увеличить количество камней в куче в два
    раза. Игра завершается в тот момент, когда суммарное количество камней в
    кучах становится не менее 40. Победителем считается игрок, сделавший
    последний ход, т.е. первым получивший такую позицию, при которой в кучах
    будет 40 или больше камней. В начальный момент в первой куче было 9
    камней, во второй куче – S камней; 1 ≤ S ≤ 30. Обозначения: a - число
    камней в первой куче b - число камней в второй куче с - порядковый номер
    хода в игре
    
    Обозначения:
    a - первая куча камней
    b - вторая куча камней
    c - номер хода
    
    Ходы: +1,*2
    
    1.i p
    2.i v
    3.ii p !!! win
    4.ii v
    '''
    '''
    Всегда работаем на опережение(то есть говорится ,что Ваня победил первым ходом,
    то рассматриваем случай c == 3,то есть Ваня походилИ вот-вот будет
    ходить Петя ,но перед его ходом проверяем:не выполнилось ли условие
    победы)
    '''
    #20
    def f(a, b, c):
        if c == 3 and a + b >= 40:
            return True
        if c == 3 or a + b >= 40:
            return False
        if c % 2 != 0:#za Petu
            return f(a+1, b, c+1) and f(a*2, b, c+1) \
                   and f(a, b+1, c+1) and f(a, b*2, c+1)
        else:
            return f(a+1, b, c+1) or f(a*2, b, c+1) \
                   or f(a, b+1, c+1) or f(a, b*2, c+1)
    #16 - получили из 0-го шага
    for s in range(1, 16):
        if f(9, s, 0):
            print(s)
            #3
            #14
        
    #21-ое задание
    '''
    Задание 21
    Сколько существует значений S, при которых одновременно выполняются два условия:
    – у Вани есть выигрышная стратегия, позволяющая ему выиграть первым или вторым ходом при любой игре Пети;
    – у Вани нет стратегии, которая позволит ему гарантированно выиграть первым ходом. 
    
    1.i p
    2.i v  !!! Win
    3.ii p !!! win
    4.ii v
    '''
    def f(a, b, c):
        if (c == 2 or c == 4) and a + b >= 40:#так как у Вани нет
                                            #стратегии для победы
            return True
        if c == 4 or a + b >= 40:
            return False
        if c % 2 == 0:#za Petu
            return f(a+1, b, c+1) and f(a*2, b, c+1) \
                   and f(a, b+1, c+1) and f(a, b*2, c+1)
        else:
            return f(a+1, b, c+1) or f(a*2, b, c+1) \
                   or f(a, b+1, c+1) or f(a, b*2, c+1)
    
    for s in range(1, 16):
        if f(9, s, 0):
            print(s)#0 ,если ответ при всех ходах повторился
            #,то это не ответ,а ответ будет 0
    ```
    
- **Неплохая программка для одной кучи**
    
    ```python
    '''
    +2 *2
    WIN >= 25
    1 <= s <= 24
    a - число камней в првой куче
    c - номер хода
    1 - p 1
    2 - v 1
    3 - p 2
    4 - v 2
    '''
    def f(a, c):
          if a >= 25:#условия победы
            return c % 2 == 0 #ходы Ванька
          if c == 0: return False
          t = [f(a+2, c -1), f(a*2 ,c - 1)]#ходы
          return any(t) if c % 2 != 0 else all(t)
          #Болеем за Ваню,а Ваня c % 2 == 0 and all(t)
    
    mx = 24#1 <= s <= 24
    #Задание 19
    for s in  range(1, mx+1):
        if f(s, 2):
            print(s)
    print('--------------------------')
    
    #Задание 20
    for s in range(1, mx+1):
         if f(s, 3) and not f(s, 1):
             print(s)
    print('--------------------------')
    #Задание 21
    for s in range(1 ,mx+1):
        if (f(s, 2) or f(s, 4)) and not f(s, 2):
            print(s)
    '''
    11 
    3
    7
    8
    '''
    ```
    
- **Для двух куч**
    
    ```python
    '''
    75)	Два игрока, Петя и Ваня, играют в
    следующую игру. Перед игроками лежит две
     кучи камней. Игроки ходят по очереди, первый ход
     делает Петя. За один ход игрок может
    а) добавить в любую кучу один камень;
    б) увеличить количество камней в куче в три раза.
    Игра завершается в тот момент, когда суммарное
    количество камней в двух кучах становится не менее 70,
    побеждает игрок, сделавший последний ход. В начальный момент в 
    первой куче было 6 камней, а во второй – S камней,
    1 ≤ S ≤ 63.
    
    a - первая куча
    b - вторая куча
    c - ходы
    
    Ходы -
    +1
    *3
    а т.к куче две,то кол-во ходов на два умножаем
    t = [f(a + 1, b, c - 1),f(a * 3, b, c - 1),
            f(a, b + 1, c - 1),f(a, b * 3, c - 1)]
    
    **#return any(t) - при не удачном ходе Пети (19-ое задание)**
    '''
    
    def f(a, b, c):
        if a + b  >= 70:# не менее 70
            return c % 2 == 0
        if c == 0:
            return False
        t = [f(a + 1, b, c - 1),f(a * 3, b, c - 1),
             f(a, b + 1, c - 1),f(a, b * 3, c - 1)]
        #return any(t) if c % 2 != 0 else all(t)
        return any(t)
    
    mx = 63#1 ≤ S ≤ 63
    
    for s in range(1, mx+1):
        if f(6, s, 2):
            print(s)
    print('-------------------------')
    for s in range(1, mx+1):
        if f(6, s, 3) and not f(6, s, 1):
            print(s)
    print('-------------------------')
    for s in range(1, mx+1):
        if f(6, s, 2) and f(6, s, 4):
            print(s)
    '''
    8
    --
    7
    15
    20
    --
    21
    '''
    ```
    
- **Задачка на минус(то есть камни убираются)**
    
    ```python
    '''
    49)	(А. Кабанов) Два игрока, Петя и Ваня, играют в следующую игру. Перед игроками лежат две кучи камней.
    Игроки ходят по очереди, первый ход делает Петя. За один ход игрок может убрать из одной из куч один камень
    или уменьшить количество камней в куче в два раза (если количество камней в куче нечётно, остаётся на 1 камень больше,
    чем убирается). Например, пусть в одной куче 6, а в другой 9 камней; такую позицию мы будем обозначать (6, 9). За один
    ход из позиции (6, 9) можно получить любую из четырёх позиций: (5, 9), (3, 9), (6, 8), (6, 5). Игра завершается в тот
    момент, когда суммарное количество камней в кучах становится не более 20. Победителем считается игрок, сделавший
    последний ход, то есть первым получивший позицию, в которой в кучах будет 20 или меньше камней.
    В начальный момент в первой куче было 10 камней, во второй куче – S камней, S > 10.
    s1 = 10
    
    '''
    def f( a, b, c):
        if a + b <= 20:
            return c % 2 == 0
        if c == 0:
            return False
        t = [f(a-1, b, c-1), f(a,b-1, c-1), f(a//2 + a % 2,b, c-1), f(a, b//2 + b % 2, c-1)]
        return any(t) if c % 2 != 0 else all(t)
    #19
    for s in range(11, 100):#второе число из головы
        if f(10, s, 2):
            print(s)
    print('-------------------')
    #20
    for s in range(11, 100):
        if f(10, s, 3) and f(10, s, 1):
            print(s)
    print('-------------------')
    #21
    for s in  range(11, 100):
        if f(10, s, 2) or f(10, s, 4) and not f(10, s, 2):
            print(s)
    
    ```
    
- **Задача со стенкой(например: чтобв в куче было не менее 45, но и не более 112)**
    
    ```python
    '''
    47)	 (А. Кабанов) Два игрока, Петя и Ваня, играют в следующую игру. Перед игроками лежит
    куча камней. Игроки ходят по очереди, первый ход делает Петя. За один ход игрок может
    а) добавить в кучу один камень;
    б) увеличить количество камней в куче в два раза;
    в) увеличить количество камней в куче в три раза.
    Игра завершается в тот момент, когда количество камней в куче становится не менее 36.
    Если при этом в куче оказалось не более 60 камней, то победителем считается игрок, сделавший
    последний ход. В противном случае победителем становится его противник.  В начальный момент
    в куче было S камней, 1 ≤ S ≤ 35.
    1 ≤ S ≤ 35
    36 <= a <= 60
    s0 = [12, 20] & [18,30]
    	   +1 *2 *3    +1 *2
    '''
    
    def f(a, c):
        if a >= 36:
            return c % 2 == 0
        if c == 0:
            return False
        if a <= 20:
            t = [f(a+1,c-1), f(a*2,c-1), f(a*3,c-1)]
        elif a <= 30:
            t = [f(a + 1, c - 1), f(a * 2, c - 1)]
        else:
            t = [f(a + 1, c - 1)]
        return any(t) if c % 2 != 0 else all(t)
    
    '''
    36 <= a <= 60
    1)Нужно будет просто  диапозоны по действиям(вверхнюю стенку разделить на 
    на доступные ходы,в данном случае на 3, на 2)
    2)Затем прописать это в программе(если a <= 30,то мы
     уже не сможем умножать на 3 и т.д.)
    
    '''
    ```